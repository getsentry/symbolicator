


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Sentry">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.9">
    
    
      
        <title>Symbol Server Compatibility - Sentry Symbolicator</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.36ee6aaa.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../_css/extra.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#symbol-server-compatibility" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Sentry Symbolicator" class="md-header-nav__button md-logo" aria-label="Sentry Symbolicator">
      
  <img src="../../static/icon.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Sentry Symbolicator
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Symbol Server Compatibility
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/getsentry/symbolicator/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Sentry Symbolicator" class="md-nav__button md-logo" aria-label="Sentry Symbolicator">
      
  <img src="../../static/icon.png" alt="logo">

    </a>
    Sentry Symbolicator
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/getsentry/symbolicator/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Advanced
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../background-and-principles/" title="Background and Principles" class="md-nav__link">
      Background and Principles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../system-architecture/" title="System Architecture" class="md-nav__link">
      System Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../caching/" title="Caching" class="md-nav__link">
      Caching
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../symbol-lookup/" title="Lookup Strategy" class="md-nav__link">
      Lookup Strategy
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Symbol Server Compatibility
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Symbol Server Compatibility" class="md-nav__link md-nav__link--active">
      Symbol Server Compatibility
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lookup-types" class="md-nav__link">
    Lookup Types
  </a>
  
    <nav class="md-nav" aria-label="Lookup Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#native" class="md-nav__link">
    native
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unified" class="md-nav__link">
    unified
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#identifiers" class="md-nav__link">
    Identifiers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-sensitivity" class="md-nav__link">
    Case Sensitivity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compression" class="md-nav__link">
    Compression
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-servers" class="md-nav__link">
    Supported Servers
  </a>
  
    <nav class="md-nav" aria-label="Supported Servers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#breakpad" class="md-nav__link">
    Breakpad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microsoft-symbol-server" class="md-nav__link">
    Microsoft Symbol Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microsoft-ssqp-symbol-server" class="md-nav__link">
    Microsoft SSQP Symbol Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lldb-debugger-macos" class="md-nav__link">
    LLDB Debugger (macOS)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gdb" class="md-nav__link">
    GDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debuginfod" class="md-nav__link">
    debuginfod
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unified-symbol-server-layout" class="md-nav__link">
    Unified Symbol Server Layout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-servers" class="md-nav__link">
    Other Servers
  </a>
  
    <nav class="md-nav" aria-label="Other Servers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fedora-darkserver" class="md-nav__link">
    Fedora Darkserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mozilla-tecken" class="md-nav__link">
    Mozilla Tecken
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../source-bundles/" title="Source Bundles" class="md-nav__link">
      Source Bundles
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      API
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="API" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/minidump/" title="POST /minidump" class="md-nav__link">
      POST /minidump
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/symbolication/" title="POST /symbolicate" class="md-nav__link">
      POST /symbolicate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/applecrashreport/" title="POST /applecrashreport" class="md-nav__link">
      POST /applecrashreport
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/response/" title="Symbolication Response" class="md-nav__link">
      Symbolication Response
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/proxy/" title="Symbol Server Proxy" class="md-nav__link">
      Symbol Server Proxy
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lookup-types" class="md-nav__link">
    Lookup Types
  </a>
  
    <nav class="md-nav" aria-label="Lookup Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#native" class="md-nav__link">
    native
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unified" class="md-nav__link">
    unified
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#identifiers" class="md-nav__link">
    Identifiers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-sensitivity" class="md-nav__link">
    Case Sensitivity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compression" class="md-nav__link">
    Compression
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-servers" class="md-nav__link">
    Supported Servers
  </a>
  
    <nav class="md-nav" aria-label="Supported Servers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#breakpad" class="md-nav__link">
    Breakpad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microsoft-symbol-server" class="md-nav__link">
    Microsoft Symbol Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microsoft-ssqp-symbol-server" class="md-nav__link">
    Microsoft SSQP Symbol Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lldb-debugger-macos" class="md-nav__link">
    LLDB Debugger (macOS)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gdb" class="md-nav__link">
    GDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debuginfod" class="md-nav__link">
    debuginfod
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unified-symbol-server-layout" class="md-nav__link">
    Unified Symbol Server Layout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-servers" class="md-nav__link">
    Other Servers
  </a>
  
    <nav class="md-nav" aria-label="Other Servers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fedora-darkserver" class="md-nav__link">
    Fedora Darkserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mozilla-tecken" class="md-nav__link">
    Mozilla Tecken
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/getsentry/symbolicator/edit/master/docs/advanced/symbol-server-compatibility.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="symbol-server-compatibility">Symbol Server Compatibility</h1>
<p>This page describes external sources supported by Symbolicator.</p>
<p>The layout of external sources intends to be compatible to several symbol server
implementations that have been used historically by different platforms. We
commit to provide compatibility to the following services or directory
structures:</p>
<ul>
<li>Microsoft Symbol Server</li>
<li>Breakpad Symbol Repositories</li>
<li>LLDB File Mapped UUID Directories</li>
<li>GDB Build ID Directories</li>
<li>debuginfod</li>
<li>Unified Symbol Server Layout</li>
</ul>
<h2 id="lookup-types">Lookup Types</h2>
<p>Symbolicator uses different lookup types to support different servers which do
not map 1:1 to a symbol server. The two most common lookup types are <code>native</code>
and <code>unified</code>.</p>
<h3 id="native"><code>native</code></h3>
<p>This lookup type emulates the most "native" symbol server format depending
on the file type. This for instance means for PDB and PE files this turns
into Microsoft Symbol Server. It also adds support for breakpad and will
use LLDB/GDB formats for MachO and ELF respectively. This symbol server type
also has support for source bundles for all file types.</p>
<h3 id="unified"><code>unified</code></h3>
<p>This is the symbolicator proprietary but preferred source (Unified Symbol
Server Layout) which adds a consistent lookup format for all architectures.
It's used at Sentry for the internal symbol lookups (like Apple or Android
symbols). Like The <code>native</code> format this supports source bundles.</p>
<h2 id="prerequisites">Prerequisites</h2>
<h3 id="identifiers">Identifiers</h3>
<p>There are two fundamentally different identifiers. Their semantics fundamentally
depend on the symbol type, but follow certain rules:</p>
<ul>
<li><strong>Code Identifier:</strong> Identifies the actual executable or library file (e.g.
  EXE or DLL)</li>
<li><strong>Debug Identifier:</strong> Identifies a debug companion file (e.g. PDB)</li>
</ul>
<p>On all platforms other than Windows, binaries and debug companion files use the
same file type and share the same container. The Breakpad library has thus
changed the semantics of those identifiers for all other platforms to:</p>
<ul>
<li><strong>Code Identifier:</strong> The original platform-specific identifier</li>
<li><strong>Debug Identifier:</strong> A potentially lossy transformation of the code
  identifier into a unified format similar to the PDB debug identifiers.</li>
</ul>
<p>Specifically, the code and debug identifiers are defined as follows:</p>
<p><strong>ELF</strong>:</p>
<ul>
<li><strong>Code ID:</strong> The contents of the <code>.note.gnu.build-id</code> section, or if not
  present the value of the <code>NT_GNU_BUILD_ID</code> program header. This value is
  traditionally 20 bytes formatted as hex string (40 characters). If neither
  are present, there is no code id.</li>
<li><strong>Debug ID:</strong> The first 16 bytes of the GNU build id interpreted as
  little-endian GUID. This flips the byte order of the first three components
  in the build ID. An <em>age</em> of <code>0</code> is appended at the end. The remaining bytes
  of the build ID are discarded. This identifier is only specified by
  Breakpad, but by SSQP.</li>
</ul>
<p><strong>MachO</strong>:</p>
<ul>
<li><strong>Code ID:</strong> The UUID as specified in the <code>LC_UUID</code> load command header.
  Breakpad does not save this value explicitly since it can be converted
  bidirectionally from the UUID.</li>
<li><strong>Debug ID:</strong> The same UUID, amended by a <code>0</code> for age.</li>
</ul>
<p><strong>PE</strong> / <strong>PDB</strong>:</p>
<ul>
<li><strong>Code ID:</strong> The hex value of the <code>time_date_stamp</code> in the COFF header
  formatted as <code>%08X</code> followed by <code>size_of_image</code> in the optional header
  formatted as <code>%X</code> (variable length). This value is always read from the PE -
  computing this from a PDB is not possible without locating the according PE.</li>
<li><strong>Debug ID:</strong> The <code>signature</code> and <code>age</code> (<code>%X</code> variable length) fields from
  the debug information stream in the PDB. The fields in the signature GUID
  are converted to network byte order first. This identifier can also be
  computed from a PE by reading the <code>code_view_pdb_70</code> records.</li>
</ul>
<p><strong>Breakpad</strong>:</p>
<ul>
<li><strong>Code ID:</strong> If applicable, Breakpad symbols will contain a <code>INFO CODE_ID</code>
  record in the second line. Otherwise, the code ID is equal to the Debug ID.</li>
<li><strong>Debug ID</strong>: Value of the identifier field in the <code>MODULE</code> record, always
  in the first line of the file.</li>
</ul>
<p><strong>Source Bundles</strong>:</p>
<p>Symbolicator supports the concept of source bundles which are source archives
which can be used to extract source code for crashes. These source bundles
are an extension which are not available to all lookup types.</p>
<h3 id="case-sensitivity">Case Sensitivity</h3>
<p>Most symbol servers explicitly define <strong>case insensitive</strong> lookup semantics.
This goes in particular for the Microsoft Public Symbol Server. However, the
canonical representation on the file system is not necessarily case insensitive,
for example when the files are stored on an Amazon S3 bucket. Since this is a
hard restriction, the case for lookups is explicitly defined for each source
below. Please pay attention to the casing rules!</p>
<h3 id="compression">Compression</h3>
<p>Symbolicator supports a range of compression formats (zlib, gzip, zstd and cab).
For cab compression, the <code>cabextract</code> binary needs to be installed. If the debug
file is already compressed, it will be auto-detected and extracted. For PE/PDB
files, Symbolicator also supports the Microsoft convention of replacing the last
character in the filename with an underscore.</p>
<h2 id="supported-servers">Supported Servers</h2>
<h3 id="breakpad">Breakpad</h3>
<p>Breakpad always computes a "Breakpad ID" for each symbol. This is a lossy
process depending on the file type. Sentry stores a bidirectionally compatible
version of this in the <code>debug_id</code> field.</p>
<p>The name of the symbol file is platform dependent. On Windows, the file
extension (Either <em>.exe</em>, <em>.dll</em> or <em>.pdb</em>) is replaced with <em>.sym</em>. On all
other platforms, the <em>.sym</em> extension is <strong>appended</strong> to the full file name
including potential extensions.</p>
<p>Casing rules are mixed:</p>
<ul>
<li>The file name is <strong>as given</strong></li>
<li>The signature part of the id (first 32 characters) are <strong>uppercase</strong></li>
<li>The age part of the id (remaining characters) are <strong>lowercase</strong></li>
</ul>
<p><strong>Schema</strong>: <code>&lt;debug_name&gt;/&lt;breakpad-id&gt;/&lt;sym_name&gt;</code></p>
<p>The following layout types support this lookup:</p>
<ul>
<li><code>native</code></li>
<li><code>symstore</code></li>
<li><code>symstore_index2</code></li>
<li><code>ssqp</code></li>
</ul>
<h3 id="microsoft-symbol-server">Microsoft Symbol Server</h3>
<p>The public symbol server provided by Microsoft used to only host PDBs for the
Windows platform. These use a <em>signature-age</em> debug identifier in addition to
the file name to locate symbols. For .NET, this specification was amended by a
schema for ELF and MachO-symbols, which is specified as <a href="https://github.com/dotnet/symstore/blob/master/docs/specs/SSQP_Key_Conventions.md">SSQP Key Conventions</a>.
This means all non windows platforms are following SSQP rules except for casing.</p>
<p>Casing rules for Symbol Server are mixed:</p>
<ul>
<li>Filenames are <strong>as given</strong></li>
<li>Identifiers are generally <strong>lowercase</strong>, except:</li>
<li>The signature and age of a PDB identifier is <strong>uppercase</strong>.</li>
<li>The timestamp of a PE identifier is <strong>uppercase</strong> except the size is
  <strong>lowercase</strong></li>
</ul>
<p><strong>Schema</strong>:</p>
<ul>
<li><strong>PE</strong>: <code>&lt;code_name&gt;/&lt;Timestamp&gt;&lt;SizeOfImage&gt;/&lt;code_name&gt;</code></li>
<li><strong>PDB</strong>: <code>&lt;debug_name&gt;/&lt;Signature&gt;&lt;Age&gt;/&lt;debug_name&gt;</code></li>
<li><strong>ELF</strong> (binary, potentially stripped):
  <code>&lt;code_name&gt;/elf-buildid-&lt;note_byte_sequence&gt;/&lt;code_name&gt;</code></li>
<li><strong>ELF</strong> (debug info): <code>_.debug/elf-buildid-sym-&lt;note_byte_sequence&gt;/_.debug</code></li>
<li><strong>MachO</strong> (binary): <code>&lt;code_name&gt;/mach-uuid-&lt;uuid_bytes&gt;/&lt;code_name&gt;</code></li>
<li><strong>MachO</strong> (dSYM): <code>_.dwarf/mach-uuid-sym-&lt;uuid_bytes&gt;/_.dwarf</code></li>
</ul>
<p>The presence of a <code>index2.txt</code> in the root indicates two tier structure where
the first two characters are prepended to the path as an additional folder. So
<code>foo.exe/542D5742000f2000/foo.exe</code> is stored as
<code>fo/foo.exe/542D5742000f2000/foo.exe</code>. Note that symbolicator does not probe
for the <code>index2.txt</code> file. You need to be explicit in configuring it.</p>
<p>Source bundles are only supported for PE/PDB files with the following format:</p>
<ul>
<li><strong>Source bundle</strong>: <code>&lt;debug_name&gt;/&lt;Signature&gt;&lt;Age&gt;/&lt;debug_name&gt;.src.zip</code></li>
</ul>
<p>The following layout types support this lookup:</p>
<ul>
<li><code>symstore</code> for a regular symbol server</li>
<li><code>symstore_index2</code> for a symbol server with an <code>index2.txt</code> root.</li>
</ul>
<h3 id="microsoft-ssqp-symbol-server">Microsoft SSQP Symbol Server</h3>
<p>Casing rules for SSQP are mixed:</p>
<ul>
<li>Filenames are <strong>lowercased</strong></li>
<li>Identifiers are generally <strong>lowercase</strong>, except:</li>
<li>
<p>The age of a PDB identifier is <strong>uppercase</strong>.</p>
</li>
<li>
<p><strong>PE</strong>: <code>&lt;code_name&gt;/&lt;Timestamp&gt;&lt;SizeOfImage&gt;/&lt;code_name&gt;</code></p>
</li>
<li><strong>PDB</strong>: <code>&lt;debug_name&gt;/&lt;Signature&gt;&lt;Age&gt;/&lt;debug_name&gt;</code></li>
<li><strong>ELF</strong> (binary, potentially stripped):
  <code>&lt;code_name&gt;/elf-buildid-&lt;note_byte_sequence&gt;/&lt;code_name&gt;</code></li>
<li><strong>ELF</strong> (debug info): <code>_.debug/elf-buildid-sym-&lt;note_byte_sequence&gt;/_.debug</code></li>
<li><strong>MachO</strong> (binary): <code>&lt;code_name&gt;/mach-uuid-&lt;uuid_bytes&gt;/&lt;code_name&gt;</code></li>
<li><strong>MachO</strong> (dSYM): <code>_.dwarf/mach-uuid-sym-&lt;uuid_bytes&gt;/_.dwarf</code></li>
</ul>
<p>Additionally, SSQP supports a lookup by SHA1 checksum over the file contents,
commonly used for source file lookups. This is not supported.</p>
<p>Symbol bundles are only supported for PE/PDB files with the following format:</p>
<ul>
<li><strong>Source bundle</strong>: <code>&lt;debug_name&gt;/&lt;Signature&gt;&lt;Age&gt;/&lt;debug_name&gt;.src.zip</code></li>
</ul>
<p>The following layout types support this lookup:</p>
<ul>
<li><code>ssqp</code></li>
</ul>
<h3 id="lldb-debugger-macos">LLDB Debugger (macOS)</h3>
<p>The LLDB debugger on macOS can read debug symbols from <a href="http://lldb.llvm.org/use/symbols.html#file-mapped-uuid-directories">File Mapped UUID
Directories</a> (scroll down to the second last section). The UUID is broken up by
splitting the first 20 hex digits into 4 character chunks, and a directory is
created for each chunk. In the final directory, LLDB usually expects a symlink
named by the last 12 hex digits, which it follows to the actual dSYM file.</p>
<p><strong>Note</strong>: this is not actually an LLVM feature. This is in fact a feature of
<code>CoreFoundation</code> and exclusively implemented on macOS on top of spotlight.
Spotlight indexes these paths and the private <code>DBGCopyFullDSYMURLForUUID</code> API is
used by lldb to locate the symbols. macOS uses the symlinks of those locations.</p>
<p>Since the executable or library shares the same UUID as the dSYM file, the
former are distinguished with a <code>.app</code> suffix.</p>
<p>The hex digits are <strong>uppercase</strong>, the app suffix is <strong>lowercase</strong>.</p>
<ul>
<li><strong>MachO</strong> (binary): <code>XXXX/XXXX/XXXX/XXXX/XXXX/XXXXXXXXXXXX.app</code></li>
<li><strong>MachO</strong> (dSYM): <code>XXXX/XXXX/XXXX/XXXX/XXXX/XXXXXXXXXXXX</code></li>
</ul>
<p>Symbol bundles are supported by adding a <code>.src.zip</code> prefix to the dsym:</p>
<ul>
<li><strong>Source bundle</strong>: <code>XXXX/XXXX/XXXX/XXXX/XXXX/XXXXXXXXXXXX.src.zip</code></li>
</ul>
<p>The following layout types support this lookup:</p>
<ul>
<li><code>native</code></li>
</ul>
<h3 id="gdb">GDB</h3>
<p><a href="https://sourceware.org/gdb/onlinedocs/gdb/Separate-Debug-Files.html">GDB</a> supports multiple lookup methods, depending on the way the debug info file
is specified. However, not all of these methods are applicable to a symbol
server:</p>
<ul>
<li><strong>Debug Link Method:</strong> GDB looks up the name or relative path specified in the
  <code>.gnu.debuglink</code> section. This requires the debug file to be in a relative
  position to the actual executable, and does not provide any means to
  distinguish by a unique identifier.</li>
<li><strong>Build ID Method:</strong> Assuming that a GNU build ID note or section have been
  written to the ELF file, this specifies a unique identifier for the executable
  which is also retained in the debug file. This method is applicable to a
  symbol server, but only if the Build ID is present.</li>
</ul>
<p>The GNU build ID is a variable-length binary string, usually consisting of a
20-byte SHA1 hash of the code section (<code>.text</code>). The lookup path is
<em>nn/nnnnnnnn.debug</em>, where <em>nn</em> are the first 2 hex characters of the build ID
bit string, and <em>nnnnnnnn</em> are the rest of the bit string. To look up
executables, the <code>.debug</code> suffix is omitted.</p>
<p>The build-id hex representation is always provided in <strong>lowercase</strong>.</p>
<ul>
<li><strong>ELF</strong> (binary, potentially stripped)</li>
<li><strong>ELF</strong> (debug info)</li>
</ul>
<p>Symbol bundles are supported by adding a <code>.src.zip</code> prefix to the ELF:</p>
<ul>
<li><strong>Source bundle</strong>: <code>nn/nnnnnnnn.src.zip</code></li>
</ul>
<p>The following layout types support this lookup:</p>
<ul>
<li><code>native</code></li>
</ul>
<h3 id="debuginfod">debuginfod</h3>
<p>Symbolicator also supports talking to
<a href="https://sourceware.org/git/?p=elfutils.git;a=shortlog;h=refs/heads/debuginfod">debuginfod</a>
compatible servers for ELF and Macho.</p>
<p><strong>Schema</strong>:</p>
<ul>
<li><strong>ELF</strong> (binary, potentially stripped): <code>&lt;code_note_byte_sequence&gt;/executable</code></li>
<li><strong>ELF</strong> (debug info): <code>&lt;code_note_byte_sequence&gt;/debuginfo</code></li>
</ul>
<p>Source bundles are not supported.</p>
<p>The following layout types support this lookup:</p>
<ul>
<li><code>debuginfod</code></li>
</ul>
<h3 id="unified-symbol-server-layout">Unified Symbol Server Layout</h3>
<p>If you have no requirements to be compatible with another system you can also
use the "unified" directory layout structure. This has the advantage that it's
unified across all platforms and thus easier to manage. It can store breakpad
files, PDBs, PEs and everything else.  The <code>symsorter</code> tool in the symbolicator
repository can automatically sort debug symbols into this format and also
automatically create source bundles.</p>
<p><strong>Schema</strong>:</p>
<p>The debug id is in all cases lowercase in hex format and computed as follows:</p>
<ul>
<li><strong>PE</strong>: <code>&lt;Signature&gt;&lt;Age&gt;</code> (age in hex, not padded)</li>
<li><strong>PDB</strong>: <code>&lt;Signature&gt;&lt;Age&gt;</code> (age in hex, not padded)</li>
<li><strong>ELF</strong>: <code>&lt;code_note_byte_sequence&gt;</code></li>
<li><strong>MachO</strong>: <code>&lt;uuid_bytes&gt;</code></li>
</ul>
<p>The path format is then as follows:</p>
<ul>
<li>binary: <code>&lt;DebugIdFirstTwo&gt;/&lt;DebugIdRest&gt;/executable</code></li>
<li>debug info: <code>&lt;DebugIdFirstTwo&gt;/&lt;DebugIdRest&gt;/debuginfo</code></li>
<li>breakpad: <code>&lt;DebugIdFirstTwo&gt;/&lt;DebugIdRest&gt;/breakpad</code></li>
<li>source bundle: <code>&lt;DebugIdFirstTwo&gt;/&lt;DebugIdRest&gt;/sourcebundle</code></li>
</ul>
<p>The following layout types support this lookup:</p>
<ul>
<li><code>unified</code></li>
</ul>
<h2 id="other-servers">Other Servers</h2>
<p>The following additional sources were considered but are not implemented right
now:</p>
<h3 id="fedora-darkserver">Fedora Darkserver</h3>
<p>In 2010, Fedora launched a project called "Darkserver" that aimed to provide a
symbol server for various libraries. In 2012, it seemed to have contained
symbols for Debian and Ubuntu as well.</p>
<p>However, this projects seems to have been abandoned since and there is only
little information available. For now, there is no intention to support
Darkserver.</p>
<h3 id="mozilla-tecken">Mozilla Tecken</h3>
<p>Tecken is the symbol server implementation used at Mozilla. The symbol file
paths are compatible to Google's Breakpad symbol server. An example of available
symbols can be viewed at <a href="https://symbols.mozilla.org/downloads/missing">symbols.mozilla.org</a>.</p>
<p>Tecken internally implements a client for the Microsoft Symbol Server to forward
downloads for missing symbols. While doing that, it attempts to replace the last
character in the URL with an underscore to look up compressed symbols. In any
case Tecken tries both variants. Example: <code>foo.exe/&lt;id&gt;/foo.ex_</code>. Microsoft
Symbol Server no longer supports this.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../symbol-lookup/" title="Lookup Strategy" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Lookup Strategy
              </div>
            </div>
          </a>
        
        
          <a href="../source-bundles/" title="Source Bundles" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Source Bundles
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.df0def68.min.js"></script>
      <script src="../../assets/javascripts/bundle.ba57d267.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>